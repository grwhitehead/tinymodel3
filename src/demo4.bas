10 REM RADIAL LINES GRAPHICS DEMO
20 CLS
100 FOR X2 = 0 TO 127 STEP 8
110 X1 = 64
120 Y1 = 24
130 Y2 = 0
140 GOSUB 500
150 NEXT X2
160 FOR Y2 = 0 TO 47 STEP 4
170 X1 = 64
180 Y1 = 24
190 X2 = 127
200 GOSUB 500
210 NEXT Y2
220 FOR X2 = 127 TO 0 STEP -8
230 X1 = 64
240 Y1 = 24
250 Y2 = 47
260 GOSUB 500
270 NEXT X2
280 FOR Y2 = 47 TO 0 STEP -4
290 X1 = 64
300 Y1 = 24
310 X2 = 0
320 GOSUB 500
330 NEXT Y2
340 END

500 REM LINE DRAWING ROUTINES FOR THE TRS-80
510 REM BY RICHARD WAGNER AND FREDERICK WAGNER
520 REM CREATIVE COMPUTING, JULY 1983, P142
530 REM
590 DX = X2 - X1
600 DY = Y2 - Y1
610 IX = 1
620 IF DX < 0 THEN IX = -1: DX = -DX
630 IY = 1
640 IF DY < 0 THEN IY = -1: DY = -DY
650 REM
660 REM BRANCH TO PROPER PLOTTING ROUTINE:
670 REM
680 IF DY > DX THEN 920
690 REM FIRST ROUTINE IS USED WHEN DISTANCE BETWEEN POINTS
700 REM THE SAME IN ROTH DIRECTIONS, OR GREATER IN THE X
710 REM DIRECTION.
720 REM
730 EI = 2 * DY
740 ED = EI - 2 * DX
750 E = -DX + EI
760 FOR I = 1 TO DX
770 SET(X1,Y1)
780 X1 = X1 + IX
790 IF E<0 THEN 850
800 Y1 = Y1 + IY
810 E = E + ED
820 NEXT I
830 SET(X1,Y1)
840 RETURN
850 E = E + EI
860 NEXT I
870 SET(X1,Y1)
880 RETURN
890 REM
900 REM SECOND ROUTINE IS USED WHEN DIFFERENCE IN THE Y
910 REM DIRECTION IS GREATER.
920 EI = 2 * DX
930 ED = EI - 2 * DY
940 E = -DY + EI
950 FOR I = 1 TO DY
960 SET(X1,Y1)
970 Y1 = Y1 + IY
980 IF E<0 THEN 1040
990 X1 = X1 + IX
1000 E = E + ED
1010 NEXT I
1020 SET(X1,Y1)
1030 RETURN
1040 E = E + EI
1050 NEXT I
1060 RETURN
